# coding=utf-8
import time
import threading
import serial
import os 
import tkMessageBox as tkmes
import urllib2 
class myThread (threading.Thread):   
    def __init__(self, threadID, name, port, baud,rootframe):
        threading.Thread.__init__(self)
        self.threadID = threadID
        self.name = name
        self.thread_stop = False
        self.port = port
        self.baud = baud
        self.uart= serial.Serial(port = self.port,baudrate = self.baud)
        self.statusbar = rootframe
        self.showdata = rootframe
        self.stopcar = rootframe
        self.root = rootframe
        self.menu = rootframe.rootmenu
        self.app = self.root.appFrame
        self.carstoproot = self.menu.carstoproot
        self.radiovalue = self.app.radiovalue.get()
        self.data=[]
    
    def run(self):                   
        while(1):
            try:
                self.currenttab = self.showdata.appFrame.index('current')
            except:
                pass
            if ord(self.uart.read(1))==0x7D:
                if ord(self.uart.read(1))==0x7E:
                    buf = self.uart.read(8)
                    self.data=[]
                    for v in buf:
                        self.data.append(ord(v))
                    print self.data
                    
        
        